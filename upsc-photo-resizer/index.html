<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ✅ 10/10 SEO -->
  <title>UPSC Photo Resizer (20KB–300KB) | OTR for CSE, CDS, NDA | MyExamPhoto</title>
  <meta name="description" content="Free UPSC photo resizer for OTR (CSE, CDS, NDA). Crop to square (550×550 to 1000×1000 px), add mandatory Name + Date stamp, and compress to 20KB–300KB. Instant JPG download." />
  <meta name="keywords" content="upsc photo resizer, upsc otr photo size, upsc photo 20kb to 300kb, upsc photo 550x550, upsc photo 1000x1000, upsc photo name date stamp, upsc cse photo size, cds photo size upsc, nda photo size upsc, upsc photo compressor, upsc photo jpg" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://myexamphoto.com/upsc-photo-resizer/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="UPSC Photo Resizer (OTR) | CSE, CDS, NDA (Name + Date Stamp)" />
  <meta property="og:description" content="Crop square (550×550+) + compress 20KB–300KB. Adds mandatory Name + Date stamp. Instant UPSC-ready JPG download." />
  <meta property="og:image" content="https://myexamphoto.com/assets/og-upsc.jpg" />
  <meta property="og:image:alt" content="UPSC Photo Resizer tool by MyExamPhoto - OTR Name and Date stamp" />
  <meta property="og:url" content="https://myexamphoto.com/upsc-photo-resizer/" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="UPSC Photo Resizer (OTR) | Name + Date Stamp" />
  <meta name="twitter:description" content="Resize UPSC OTR photo to square (550×550+) and compress to 20KB–300KB. Adds Name + Date stamp instantly." />
  <meta name="twitter:image" content="https://myexamphoto.com/assets/og-upsc.jpg" />
  <meta name="twitter:url" content="https://myexamphoto.com/upsc-photo-resizer/" />

  <!-- Schema: SoftwareApplication -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "UPSC Photo Resizer",
    "url": "https://myexamphoto.com/upsc-photo-resizer/",
    "applicationCategory": "PhotographyApplication",
    "operatingSystem": "Any",
    "description": "Free online UPSC photo resizer for OTR (CSE, CDS, NDA). Crops to square (550×550 minimum) and compresses to 20KB–300KB. Adds Name + Date stamp required for UPSC.",
    "image": "https://myexamphoto.com/assets/og-upsc.jpg",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "INR" },
    "featureList": [
      "Square crop for UPSC OTR (550×550 min)",
      "Compress to 20KB–300KB",
      "Adds mandatory Name and Date stamp",
      "Instant JPG download",
      "Runs in browser (no upload)"
    ]
  }
  </script>

  <!-- Schema: FAQ (✅ helps rankings) -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {
        "@type":"Question",
        "name":"What is the UPSC photo size limit in KB?",
        "acceptedAnswer":{"@type":"Answer","text":"UPSC OTR photo file size is generally required between 20KB and 300KB in JPG/JPEG format. Use the compression slider to stay within the limit."}
      },
      {
        "@type":"Question",
        "name":"What is the UPSC photo size in pixels for OTR?",
        "acceptedAnswer":{"@type":"Answer","text":"UPSC requires a square photo. Minimum dimensions are 550×550 pixels and maximum dimensions are 1000×1000 pixels."}
      },
      {
        "@type":"Question",
        "name":"Is Name and Date stamp mandatory on UPSC photo?",
        "acceptedAnswer":{"@type":"Answer","text":"Yes. UPSC requires the candidate name and the date the photograph was taken to be clearly mentioned at the bottom of the photograph."}
      },
      {
        "@type":"Question",
        "name":"Can I use the same UPSC photo for CSE, CDS and NDA?",
        "acceptedAnswer":{"@type":"Answer","text":"Usually yes, because UPSC OTR photo specifications are common. Use the same photo only if it meets square size, file size and Name+Date stamp requirements."}
      },
      {
        "@type":"Question",
        "name":"Does UPSC accept PNG or PDF photos?",
        "acceptedAnswer":{"@type":"Answer","text":"UPSC usually accepts JPG/JPEG for photo upload. If your image is PNG/HEIC, convert it to JPG using this tool before uploading."}
      }
    ]
  }
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&display=swap" rel="stylesheet" />
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Cropper + HEIC -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/heic2any@0.0.4/dist/heic2any.min.js"></script>

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: { extend: { colors: { brand: { 500: "#3b82f6", 600: "#2563eb" } } } },
    };
  </script>

  <style>
    body { font-family: "Plus Jakarta Sans", sans-serif; transition: background-color 0.3s ease; }
    .mesh-bg {
      background-color: #f8fafc;
      background-image:
        radial-gradient(at 0% 0%, hsla(210, 100%, 93%, 1) 0, transparent 50%),
        radial-gradient(at 100% 0%, hsla(230, 100%, 93%, 1) 0, transparent 50%);
    }
    .dark .mesh-bg {
      background-color: #020617;
      background-image:
        radial-gradient(at 0% 0%, hsla(253,16%,7%,1) 0, transparent 50%),
        radial-gradient(at 100% 0%, hsla(225,39%,20%,1) 0, transparent 50%);
    }
    .tool-card { background: rgba(255,255,255,0.72); backdrop-filter: blur(12px); border: 1px solid rgba(0,0,0,0.06); }
    .dark .tool-card { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08); }
    .crop-container { width: 100%; max-height: 520px; border-radius: 1.5rem; display: none; background: #000; position: relative; overflow: hidden; }

    /* ✅ Square guide for UPSC */
    .face-guide {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 78%; height: 78%;
      border: 2px dashed rgba(59, 130, 246, 0.7);
      border-radius: 18px;
      pointer-events: none;
      z-index: 10;
    }
    .face-guide::after {
      content: "SQUARE CROP • FACE ~75%";
      font-size: 9px;
      font-weight: 800;
      color: #2563eb;
      background: rgba(255,255,255,0.9);
      padding: 2px 8px;
      border-radius: 999px;
      position: absolute;
      top: -12px;
      left: 50%;
      transform: translateX(-50%);
      letter-spacing: 0.12em;
    }

    .spinner { border: 3px solid rgba(255,255,255,0.12); border-top: 3px solid #3b82f6; border-radius: 50%; width: 30px; height: 30px; animation: spin 1s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>

<body class="mesh-bg text-slate-900 dark:text-slate-100 min-h-screen antialiased">

  <!-- Theme Toggle -->
  <button id="themeToggle" onclick="toggleTheme()" class="fixed bottom-6 right-6 z-[100] p-4 bg-white dark:bg-slate-800 rounded-full shadow-2xl border border-slate-200 dark:border-slate-700 hover:scale-110 transition-all active:scale-95" aria-label="Toggle Theme">
    <i data-lucide="sun" class="hidden dark:block text-yellow-400"></i>
    <i data-lucide="moon" class="block dark:hidden text-indigo-600"></i>
  </button>

  <!-- Nav -->
  <nav class="fixed top-0 w-full z-[100] border-b border-slate-200 dark:border-white/5 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl">
    <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
      <a href="/" class="flex items-center gap-2 font-bold text-blue-600 dark:text-blue-400 group text-xs uppercase tracking-widest">
        <i data-lucide="arrow-left" class="w-4 h-4"></i> Home
      </a>
      <span class="font-black uppercase tracking-tighter">MyExam<span class="text-blue-500">Photo</span></span>
    </div>
  </nav>

  <!-- Main -->
  <main class="pt-24 pb-12 px-6 max-w-4xl mx-auto">
    <header class="text-center mb-10">
      <div class="inline-flex items-center gap-2 bg-blue-500/10 border border-blue-500/20 px-4 py-1.5 rounded-full text-blue-600 dark:text-blue-400 text-[10px] font-black mb-4 uppercase tracking-widest">
        <span class="w-2 h-2 bg-blue-500 rounded-full animate-pulse"></span>
        UPSC OTR • CSE / CDS / NDA
      </div>

      <h1 class="text-4xl md:text-6xl font-black tracking-tighter mb-4 leading-tight">UPSC Photo Resizer</h1>
      <p class="text-slate-500 dark:text-slate-400 text-lg tracking-tighter">
        Square photo (550×550+) • 20KB–300KB • Adds mandatory <b>Name + Date</b> stamp.
      </p>
    </header>

    <div class="tool-card p-6 md:p-10 rounded-[2.5rem] shadow-2xl space-y-8 relative">
      <div id="loader" class="absolute inset-0 z-50 bg-slate-950/90 rounded-[2.5rem] flex flex-col items-center justify-center space-y-4 hidden">
        <div class="spinner"></div>
        <p class="text-xs font-black text-white uppercase tracking-[0.2em]">Processing UPSC Photo...</p>
      </div>

      <!-- Upload -->
      <div class="relative border-2 border-dashed border-slate-300 dark:border-white/10 rounded-[2rem] p-4 text-center bg-white/50 dark:bg-black/20 overflow-hidden">
        <div id="upload-prompt" class="py-16">
          <input type="file" id="fileInput" class="absolute inset-0 opacity-0 cursor-pointer" accept="image/*, .heic, .heif" aria-label="Upload photo" />
          <i data-lucide="camera" class="w-12 h-12 mx-auto mb-3 text-blue-500"></i>
          <p class="font-black text-sm uppercase tracking-widest">Upload Candidate Photo</p>
          <p class="text-[10px] text-slate-500 mt-2 font-bold opacity-60 uppercase tracking-tight">Plain white background • Face centered</p>
        </div>

        <div id="crop-wrapper" class="crop-container">
          <div class="face-guide"></div>
          <img id="imageToCrop" src="" alt="Photo preview for cropping" />
          <button onclick="resetTool()" class="absolute top-4 right-4 z-20 bg-red-500 text-white p-2 rounded-full shadow-2xl" title="Remove image">
            <i data-lucide="x" class="w-5 h-5"></i>
          </button>
        </div>
      </div>

      <!-- Mandatory Inputs -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div class="space-y-2">
          <label for="nameInput" class="text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2">Candidate Name (Mandatory)</label>
          <input type="text" id="nameInput" placeholder="YOUR FULL NAME" class="w-full bg-slate-100 dark:bg-white/5 border border-slate-200 dark:border-white/10 p-4 rounded-2xl outline-none focus:ring-2 ring-blue-500 font-bold uppercase" />
          <p class="text-[10px] text-slate-500 ml-2">Use the same spelling as UPSC form.</p>
        </div>
        <div class="space-y-2">
          <label for="dateInput" class="text-[10px] font-black uppercase tracking-widest text-slate-400 ml-2">Photo Date (DD/MM/YYYY) (Mandatory)</label>
          <input type="text" id="dateInput" maxlength="10" placeholder="DD/MM/YYYY" class="w-full bg-slate-100 dark:bg-white/5 border border-slate-200 dark:border-white/10 p-4 rounded-2xl outline-none focus:ring-2 ring-blue-500 font-bold" />
          <p class="text-[10px] font-bold text-orange-500 uppercase ml-2">Photo should be latest (not older than 10 days).</p>
        </div>
      </div>

      <!-- Compression -->
      <div class="space-y-4 pt-4 border-t border-slate-200 dark:border-white/5">
        <div class="flex justify-between items-center px-2">
          <div class="flex flex-col">
            <label for="qualitySlider" class="text-[10px] font-black uppercase tracking-widest text-slate-500">Target File Size (20KB - 300KB)</label>
            <span id="statusText" class="text-[10px] font-bold uppercase text-blue-500">Awaiting upload...</span>
          </div>
          <span id="size-estimate" class="text-lg font-black text-blue-600 dark:text-blue-400">-- KB</span>
        </div>
        <input type="range" id="qualitySlider" min="10" max="95" value="85" class="w-full h-1.5 bg-slate-200 dark:bg-white/10 rounded-lg appearance-none cursor-pointer accent-blue-600" />
        <div class="flex justify-between text-[9px] font-black uppercase tracking-tighter opacity-50 px-1">
          <span>Smaller</span>
          <span>Better Quality</span>
        </div>
      </div>

      <button id="downloadBtn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-black py-5 rounded-2xl transition shadow-xl shadow-blue-500/20 uppercase tracking-widest text-xs flex items-center justify-center gap-2">
        <i data-lucide="download" class="w-5 h-5"></i> Download UPSC Ready JPG
      </button>

      <p class="text-[10px] text-slate-500 leading-relaxed">
        ✅ Privacy: processing happens in your browser. Photos are not uploaded to a server.
      </p>
    </div>
  </main>

  <!-- Guidelines -->
  <section class="max-w-7xl mx-auto px-6 py-16 border-t border-slate-200 dark:border-white/5">
    <div class="grid lg:grid-cols-2 gap-12 items-start">
      <article>
        <h2 class="text-3xl font-black mb-6 tracking-tighter">UPSC OTR Photo Rules (Quick)</h2>
        <div class="space-y-5">
          <div class="flex gap-4">
            <div class="w-10 h-10 shrink-0 bg-blue-600 text-white rounded-full flex items-center justify-center font-black">1</div>
            <div>
              <h3 class="font-bold">Square Photo (550×550 to 1000×1000)</h3>
              <p class="text-sm text-slate-500">Keep the face centered with plain white background and good lighting.</p>
            </div>
          </div>
          <div class="flex gap-4">
            <div class="w-10 h-10 shrink-0 bg-blue-600 text-white rounded-full flex items-center justify-center font-black">2</div>
            <div>
              <h3 class="font-bold">File Size 20KB–300KB (JPG/JPEG)</h3>
              <p class="text-sm text-slate-500">Use the slider to control KB without losing clarity.</p>
            </div>
          </div>
          <div class="flex gap-4">
            <div class="w-10 h-10 shrink-0 bg-blue-600 text-white rounded-full flex items-center justify-center font-black">3</div>
            <div>
              <h3 class="font-bold">Mandatory Name + Date Stamp</h3>
              <p class="text-sm text-slate-500">Your name and the date the photo was taken must be printed at the bottom.</p>
            </div>
          </div>
        </div>
      </article>

      <aside class="tool-card p-8 rounded-[2.5rem] bg-blue-500/5 border-blue-500/20">
        <h3 class="text-xl font-bold mb-6 tracking-tighter">UPSC Technical Specs</h3>
        <div class="space-y-4 font-black uppercase text-[10px]">
          <div class="flex justify-between border-b border-blue-500/10 pb-3"><span>Dimensions</span> <span class="text-blue-500">550×550 to 1000×1000 px</span></div>
          <div class="flex justify-between border-b border-blue-500/10 pb-3"><span>File Format</span> <span class="text-blue-500">JPG/JPEG</span></div>
          <div class="flex justify-between border-b border-blue-500/10 pb-3"><span>File Size</span> <span class="text-blue-500">20KB - 300KB</span></div>
          <div class="flex justify-between border-b border-blue-500/10 pb-3"><span>Stamp</span> <span class="text-blue-500">Name + Date</span></div>
          <div class="flex justify-between"><span>Background</span> <span class="text-blue-500">Plain White</span></div>
        </div>
      </aside>
    </div>
  </section>

  <!-- FAQ -->
  <section class="max-w-4xl mx-auto px-6 py-16 border-t border-slate-200 dark:border-white/5">
    <h2 class="text-3xl font-black mb-10 text-center tracking-tighter">UPSC OTR FAQ</h2>
    <div class="space-y-4">
      <details class="group tool-card p-6 rounded-2xl cursor-pointer">
        <summary class="flex justify-between items-center font-bold list-none">
          1) What is the UPSC photo size in KB?
          <i data-lucide="chevron-down" class="group-open:rotate-180 transition-transform duration-300"></i>
        </summary>
        <p class="mt-4 text-sm text-slate-500 leading-relaxed">UPSC typically accepts photos between 20KB and 300KB. Keep it around 120–180KB for best clarity.</p>
      </details>

      <details class="group tool-card p-6 rounded-2xl cursor-pointer">
        <summary class="flex justify-between items-center font-bold list-none">
          2) What is the UPSC photo size in pixels?
          <i data-lucide="chevron-down" class="group-open:rotate-180 transition-transform duration-300"></i>
        </summary>
        <p class="mt-4 text-sm text-slate-500 leading-relaxed">UPSC needs a square photo: minimum 550×550 and maximum 1000×1000 pixels.</p>
      </details>

      <details class="group tool-card p-6 rounded-2xl cursor-pointer">
        <summary class="flex justify-between items-center font-bold list-none">
          3) Is Name and Date stamp compulsory?
          <i data-lucide="chevron-down" class="group-open:rotate-180 transition-transform duration-300"></i>
        </summary>
        <p class="mt-4 text-sm text-slate-500 leading-relaxed">Yes, it is mandatory. This tool automatically adds Name + Date at the bottom.</p>
      </details>

      <details class="group tool-card p-6 rounded-2xl cursor-pointer">
        <summary class="flex justify-between items-center font-bold list-none">
          4) Can I use the same photo for CSE, CDS and NDA?
          <i data-lucide="chevron-down" class="group-open:rotate-180 transition-transform duration-300"></i>
        </summary>
        <p class="mt-4 text-sm text-slate-500 leading-relaxed">Usually yes, if it matches UPSC OTR rules: square size, KB limit, white background and Name+Date stamp.</p>
      </details>

      <details class="group tool-card p-6 rounded-2xl cursor-pointer">
        <summary class="flex justify-between items-center font-bold list-none">
          5) My photo is HEIC/PNG. What should I do?
          <i data-lucide="chevron-down" class="group-open:rotate-180 transition-transform duration-300"></i>
        </summary>
        <p class="mt-4 text-sm text-slate-500 leading-relaxed">Upload it here. The tool converts HEIC/PNG to JPG and creates an UPSC-ready photo.</p>
      </details>
    </div>
  </section>

  <footer class="py-12 border-t border-slate-200 dark:border-white/5 text-center px-6">
    <p class="text-slate-400 text-[10px] font-bold uppercase tracking-[0.2em]">© 2026 • MyExamPhoto.com • UPSC OTR Ready</p>
  </footer>

  <canvas id="finalCanvas" class="hidden"></canvas>

  <script>
    lucide.createIcons();

    function toggleTheme() {
      const html = document.documentElement;
      if (html.classList.contains("dark")) {
        html.classList.remove("dark");
        localStorage.setItem("theme", "light");
      } else {
        html.classList.add("dark");
        localStorage.setItem("theme", "dark");
      }
    }

    if (localStorage.getItem("theme") === "dark" || (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }

    const fileInput = document.getElementById("fileInput");
    const imageToCrop = document.getElementById("imageToCrop");
    const cropWrapper = document.getElementById("crop-wrapper");
    const uploadPrompt = document.getElementById("upload-prompt");
    const loader = document.getElementById("loader");

    const finalCanvas = document.getElementById("finalCanvas");
    const ctx = finalCanvas.getContext("2d");

    const qualitySlider = document.getElementById("qualitySlider");
    const sizeEstimate = document.getElementById("size-estimate");
    const statusText = document.getElementById("statusText");

    const nameInput = document.getElementById("nameInput");
    const dateInput = document.getElementById("dateInput");

    let cropper = null;

    function resetTool() {
      if (cropper) cropper.destroy();
      cropper = null;
      fileInput.value = "";
      cropWrapper.style.display = "none";
      uploadPrompt.style.display = "block";
      sizeEstimate.innerText = "-- KB";
      statusText.innerText = "Awaiting upload...";
      statusText.className = "text-[10px] font-bold uppercase text-blue-500";
    }

    // Auto date format DD/MM/YYYY
    dateInput.addEventListener("input", (e) => {
      let v = e.target.value.replace(/\D/g, "");
      if (v.length > 8) v = v.substring(0, 8);
      if (v.length > 4) v = v.substring(0, 2) + "/" + v.substring(2, 4) + "/" + v.substring(4);
      else if (v.length > 2) v = v.substring(0, 2) + "/" + v.substring(2);
      e.target.value = v;
      updateLiveResult();
    });

    fileInput.addEventListener("change", async (e) => {
      let file = e.target.files[0];
      if (!file) return;

      loader.classList.remove("hidden");

      if (file.name.toLowerCase().endsWith(".heic") || file.name.toLowerCase().endsWith(".heif")) {
        try {
          const blob = await heic2any({ blob: file, toType: "image/jpeg", quality: 0.85 });
          file = Array.isArray(blob) ? blob[0] : blob;
        } catch (err) {
          console.error("HEIC Error:", err);
        }
      }

      const reader = new FileReader();
      reader.onload = (event) => {
        imageToCrop.src = event.target.result;
        uploadPrompt.style.display = "none";
        cropWrapper.style.display = "block";
        loader.classList.add("hidden");

        if (cropper) cropper.destroy();

        cropper = new Cropper(imageToCrop, {
          aspectRatio: 1,   // ✅ Square for UPSC
          viewMode: 1,
          dragMode: "move",
          autoCropArea: 0.95,
          guides: true,
          background: false,
          crop() { updateLiveResult(); }
        });
      };
      reader.readAsDataURL(file);
    });

    function updateLiveResult() {
      if (!cropper) return;

      // ✅ Output size: square & safe (>=550, <=1000)
      const W = 650, H = 650;
      finalCanvas.width = W;
      finalCanvas.height = H;

      const croppedCanvas = cropper.getCroppedCanvas({ width: W, height: H });

      // Base white
      ctx.fillStyle = "white";
      ctx.fillRect(0, 0, W, H);
      ctx.drawImage(croppedCanvas, 0, 0, W, H);

      // Stamp plate
      const name = (nameInput.value || "").trim().toUpperCase();
      const date = (dateInput.value || "").trim();

      const plateH = Math.round(H * 0.18);
      ctx.fillStyle = "white";
      ctx.fillRect(0, H - plateH, W, plateH);

      // separator line
      ctx.fillStyle = "#e5e7eb";
      ctx.fillRect(0, H - plateH, W, 2);

      ctx.fillStyle = "#111827";
      ctx.textAlign = "center";

      const safeName = name.slice(0, 35);
      ctx.font = "bold 30px sans-serif";
      ctx.fillText(safeName || "YOUR NAME", W / 2, H - Math.round(plateH * 0.60));

      ctx.font = "22px sans-serif";
      ctx.fillText(date || "DD/MM/YYYY", W / 2, H - Math.round(plateH * 0.22));

      // Size estimate
      const q = qualitySlider.value / 100;
      const dataUrl = finalCanvas.toDataURL("image/jpeg", q);
      const sizeKB = Math.round((dataUrl.length * (3 / 4)) / 1024);
      sizeEstimate.innerText = `${sizeKB} KB`;

      statusText.classList.remove("text-blue-500","text-green-500","text-red-500");
      if (sizeKB >= 20 && sizeKB <= 300) {
        statusText.innerText = "Compliant (20–300KB)";
        statusText.classList.add("text-green-500");
      } else if (sizeKB < 20) {
        statusText.innerText = "Too Small (<20KB)";
        statusText.classList.add("text-red-500");
      } else {
        statusText.innerText = "Too Large (>300KB)";
        statusText.classList.add("text-red-500");
      }
    }

    [nameInput, qualitySlider].forEach((el) => el.addEventListener("input", updateLiveResult));

    document.getElementById("downloadBtn").addEventListener("click", () => {
      if (!cropper) return alert("Please upload a photo first.");
      if (!nameInput.value.trim() || !dateInput.value.trim()) return alert("Name and Date are mandatory for UPSC photo.");

      const q = qualitySlider.value / 100;
      const link = document.createElement("a");
      link.download = `UPSC_Photo_${Date.now()}.jpg`;
      link.href = finalCanvas.toDataURL("image/jpeg", q);
      link.click();
    });
  </script>
</body>
</html>
